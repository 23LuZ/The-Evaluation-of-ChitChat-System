## Strategy and Policy Learning for Non-task-Oriented Conversational Systems
### 摘要
- 提出了一套用来处理非任务型对话系统可能发生的系统故障的对话策略
- 结合专家知识和从数据中得到的统计结果，设计了根据上下文选择对话策略的policy 政策
- 通过强化学习学习到的政策policy在模拟和现实环境中均优于随机选择policy策略和局部贪婪策略policy
- 提出三个用于评价对话质量的指标，这些指标同时考虑了对话的局部和全局质量
- 使用对话系统作为模拟用户与对话系统进行对话，但模拟用户不像人类使用者那样连贯，表现力不如真实用户，因此在模拟设置中的对话深度通常比在真实环境中要低
### 简介
- 非任务型对话虽然没有明确的目标，但是在实际应用中也很有用处，如陪伴老人，而且能够与任务型对话相结合，
以充当过渡平滑器或融洽的构建者，以处理需要用户合作的复杂任务
- 对三种策略进行了实验：
   - 随机选择策略，该策略随机选择一个对话策略，而与上下文无关
   - 本地贪婪策略专注于本地上下文
   - 强化学习策略，考虑对话的局部和全局质量
- 对话策略可以避免对话的失败，对话失败的概率可以根据不同的指标根据不同的系统计算出来。神经网络生成系统可以使用后验概率来确定所生成的话语是否可能导致故障，
从而用设计的策略代替它
- 在本文中，我们在基于关键字检索的非任务型对话系统中实施了对话策略和策略。我们使用检索的置信度作为是否需要触发对话策略的标准
- 在对话系统中，状态state就是对话历史，动作action就是生成回复，目标就是通过采取行动最大化奖赏如对话长度。

### 对话策略设计
共有10个对话策略，顺序是由专家知识决定的，当策略1-5不能使用时才能选择策略6-10.每一个策略都有三个版本，为了使得对话系统不那么机械。
对话系统开始对话时抛出一个主题来讨论，主题从5个设计好的主题里随机选择：movies，music，politics,sports,board games
- Match Response (continue):基于检索的对话系统，检索置信度是来自用户输入和数据库的所选话语的所有匹配关键字的加权分数。 
当检索置信度得分高于阈值时，选择检索话语作为系统输出。基于生成的对话系统，当生成回复的后验概率高于某个阈值时，将生成回复作为系统的输出。
- Don’t Repeat (no repeat)：“You already said that!”
- Ground on Named Entities (named entity)：识别出实体，进行搜索，找到简短描述，套模板输出回复
- Ground on Out ofVocabularyWords (oov)：question
- Ground on Out ofVocabularyWords (oov):question
- Switch Topic (switch) TickTock
- Initiate Activities (initiation)
- End topics with an open question (end)
- Tell A Joke (joke)
- Elicit More Information (more)

### 选择对话策略的策略设计
- 基线策略，随机选择1-5，不行后再选择6-10
- 针对不同的情感环境提出了不同的策略。使用这些发现来设计本地贪婪策略。在给定上下文的情况下，系统会选择最适合的策略。上下文是前三种话语的情感极性。
- 在强化学习环境中纳入与以前的策略使用和更悠久的历史相关的信息来设计策略

### 强化学习
我们将会话过程建模为基于马尔可夫决策过程（MDP）的问题，因此我们可以使用强化学习来学习一种会话策略，该策略通过考虑整个上下文来进行顺序决策。 
我们使用Q-learning（一种无模型方法）来学习面向非任务的会话系统的会话策略

在训练过程中，我们将对话限制为10轮。 奖励功能仅在对话结束时给出，它是对三个指标的自动预测的组合，该三个指标同时考虑了本地和全局的对话质量



### 评价指标
强化学习中的奖赏函数时三个指标的组合,分别评价了对话系统不同方面的质量
- turn-level appropriateness 

评价了回复的连贯性，使用人工评价的标注数据，将回复的合理性检测看作二分类问题，
使用早期融合，它简单地将所有特征向量连接在一起。 用带有RBF内核的v-支持向量训练探测器。回复合理性的自动评分器的准确率为0.63.选择多数的准确率为0.5。
我们使用三组功能：回复中使用的策略，用户和TickTock话语的字数统计以及话语相似度功能，话语相似性功能包括，
用户话语与系统响应之间以及用户话语与所有系统响应之间的余弦相似度得分。
- dialoge-level conversational depth

对话深度反映了讨论同一主题的连续话语数量。将对话深度分为三类：“浅”，“中级”和“深层”。 将‘浅’和‘中级’看作是一类，将问题建模为二分类问题。
自动对话深度检测器的具有72.7％的准确度，而多数投票基准的准确性为63.6％。 
- dialogue-level informational gain

信息增益反映了系统和用户引入对话的唯一单词的数量。对话中包含的信息越多，对话质量就越好。 在对话语进行分词后，通过计算唯一单词的数量来自动计算此指标。

### 结论
设计选择策略时，考虑用户参与engagemant，以便引起人类用户的高质量回应


